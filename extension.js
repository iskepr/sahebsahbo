const { console } = require("inspector");
const vscode = require("vscode");
const ุงููุฏููุฉ = "Cairo";
const ุงูููู = new Date();
const ุงูุชุงุฑูุฎ =
  ุงูููู.getDate() + "-" + (ุงูููู.getMonth() + 1) + "-" + ุงูููู.getFullYear();

// ุชุญููู ุงูุณุงุนุฉ ุฅูู ูุธุงู 12 ุณุงุนุฉ
const ุฅูู_12_ุณุงุนุฉ = (time24) => {
  let [hour, minute] = time24.split(":");
  hour = parseInt(hour);
  let ุตุจุงุญ_ูุณุงุก = "ุตุจุงุญุงู";

  if (hour >= 12) {
    ุตุจุงุญ_ูุณุงุก = "ูุณุงุกู";
    if (hour > 12) hour -= 12; // ุชุญููู ุงูุณุงุนุฉ ุฅูู 12 ุณุงุนุฉ
  }

  if (hour === 0) hour = 12; // ููุชุนุงูู ูุน ููุชุตู ุงูููู

  minute = minute < 10 ? "0" + minute : minute; // ุฅุถุงูุฉ ุตูุฑ ูุจู ุงูุฏูุงุฆู ุฅุฐุง ูุงูุช ุฃูู ูู 10

  return `${hour}:${minute} ${ุตุจุงุญ_ูุณุงุก}`;
};

// ุงูุญุตูู ุนูู ุงูุณุงุนุฉ ุงูุญุงููุฉ ุจูุธุงู 12 ุณุงุนุฉ
let ุงูุณุงุนุฉ = ุงูููู.getHours();
let ุฏูุงุฆู = ุงูููู.getMinutes();
let ุตุจุงุญ_ูุณุงุก = "ุตุจุงุญุงู";

// ุชุญุฏูุฏ ูุง ุฅุฐุง ูุงูุช ุงูุณุงุนุฉ ุตุจุงุญุงู ุฃู ูุณุงุกู
if (ุงูุณุงุนุฉ >= 12) {
  ุตุจุงุญ_ูุณุงุก = "ูุณุงุกู";
  if (ุงูุณุงุนุฉ > 12) ุงูุณุงุนุฉ -= 12; // ุชุญููู ุงูุณุงุนุฉ ุฅูู 12 ุณุงุนุฉ
}

ุฏูุงุฆู = ุฏูุงุฆู < 10 ? "0" + ุฏูุงุฆู : ุฏูุงุฆู;
ุงูุณุงุนุฉ = ุงูุณุงุนุฉ + ":" + ุฏูุงุฆู + " " + ุตุจุงุญ_ูุณุงุก;

// ููุงุนูุฏ ุงูุตูุงุฉ
let ุงูููุงุนูุฏ;
let ุงููุฌุฑ;
let ุงูุธูุฑ;
let ุงูุนุตุฑ;
let ุงููุบุฑุจ;
let ุงูุนุดุงุก;
let ุงูุชุงุฑูุฎ_ุงููุฌุฑู;
let ููู_ุงูุฃุณุจูุน;

const ุงูุงุฐุงู = fetch(
  `https://api.aladhan.com/v1/timingsByAddress/${ุงูุชุงุฑูุฎ}?address=${ุงููุฏููุฉ}`
)
  .then((response) => response.json())
  .then((data) => {
    ุงูููุงุนูุฏ = data["data"]["timings"];

    // ุชุญููู ููุงุนูุฏ ุงูุตูุงุฉ ูู 24 ุณุงุนุฉ ุฅูู 12 ุณุงุนุฉ
    ุงููุฌุฑ = ุฅูู_12_ุณุงุนุฉ(ุงูููุงุนูุฏ["Fajr"]);
    ุงูุธูุฑ = ุฅูู_12_ุณุงุนุฉ(ุงูููุงุนูุฏ["Dhuhr"]);
    ุงูุนุตุฑ = ุฅูู_12_ุณุงุนุฉ(ุงูููุงุนูุฏ["Asr"]);
    ุงููุบุฑุจ = ุฅูู_12_ุณุงุนุฉ(ุงูููุงุนูุฏ["Maghrib"]);
    ุงูุนุดุงุก = ุฅูู_12_ุณุงุนุฉ(ุงูููุงุนูุฏ["Isha"]);
    ููู_ุงูุฃุณุจูุน = data["data"]["date"]["hijri"]["weekday"]["ar"];
    ุงูุชุงุฑูุฎ_ุงููุฌุฑู =
      data["data"]["date"]["hijri"]["day"] +
      " " +
      data["data"]["date"]["hijri"]["month"]["ar"] +
      " " +
      data["data"]["date"]["hijri"]["year"];

    console.log(ุงูููุงุนูุฏ); // ุทุจุงุนุฉ ุงูููุงุนูุฏ ุจุนุฏ ุชุญููููุง

    // ุงูุฑุณุงูุฉ ููุช ุงูุตูุงุฉ
    if (ุงูุณุงุนุฉ == ุงููุฌุฑ) {
      vscode.window.showInformationMessage("ุญุงู ููุช ุงููุฌุฑ", "ููุงูู");
    } else if (ุงูุณุงุนุฉ == ุงูุธูุฑ) {
      vscode.window.showInformationMessage("ุญุงู ููุช ุงูุธูุฑ", "ููุงูู");
    } else if (ุงูุณุงุนุฉ == ุงูุนุตุฑ) {
      vscode.window.showInformationMessage("ุญุงู ููุช ุงูุนุตุฑ", "ููุงูู");
    } else if (ุงูุณุงุนุฉ == ุงููุบุฑุจ) {
      vscode.window.showInformationMessage("ุญุงู ููุช ุงููุบุฑุจ", "ููุงูู");
    } else if (ุงูุณุงุนุฉ == ุงูุนุดุงุก) {
      vscode.window.showInformationMessage("ุญุงู ููุช ุงูุนุดุงุก", "ููุงูู");
    } else {
      console.log(ุงูููุงุนูุฏ);
    }
  });

function activate(context) {
  const ูุฑุญุจุง = vscode.commands.registerCommand(
    "sahebsahbo.helloWorld",
    function () {
      vscode.window.showInformationMessage("ุงููุง ุจูู ูุง ุตุญุจู");
    }
  );

  // ุงูุตูุงุฉ ุนูู ุงููุจู
  const ุตู_ุนูู_ุงููุจู = setInterval(() => {
    const ุงุฐูุงุฑ = [
      "ุณุจุญุงู ุงูููู",
      "ุงูุญูุฏ ูููู",
      "ูุง ุงูู ุงูุง ุงูููู",
      "ุงูููู ุงูุจุฑ",
      "ูุง ุชุตูู ุนูู ุงููุจู ูุง ููุจ ุงุฎูู",
      "ุงุณุชุบูุฑ ุงูููู",
      "ูุญุฏ ุงูููู",
    ];
    const ุฐูุฑ = ุงุฐูุงุฑ[Math.floor(Math.random() * ุงุฐูุงุฑ.length)];
    vscode.window.showInformationMessage(ุฐูุฑ);
    console.log(ุฐูุฑ);
  }, 5 * 60000);

  // ุงููุญุงุฏุซุฉ
  const editor = vscode.window.activeTextEditor;

  const document = editor.document;

  vscode.workspace.onDidChangeTextDocument((event) => {
    const editor = vscode.window.activeTextEditor;

    const document = editor.document;
    const text = document.getText();

    if (text.includes("ุตุญุจู")) {
      // ุฌูู ุฑุฏ ูุนู ูุฎุชููุฉ
      const ุชูุถู = ["ุดุจูู ูุจูู", "ุงุคูุฑูู", "ุงุฑุบู", "ููู", "ุงูู"];
      const ููุช = [
        "ูุญุดุด ุงุณูู ุณุงูู ุฒุนู ูู ุฃููู ูููุฑ ูุณุงูุฑุ ููู ุฑุงูุญ ุงููุทุงุฑ ุดุงู ููุญุฉ ููุชูุจ ุนูููุง 'ุงุฑุฌุน ููุง ุณุงูู'ุ ุฑุฌุน ุจูุชูู ูุจููุ ููุงู: ุทูุจ ููู ุฒุนูุชูููุ ๐ขโ๏ธ",
        "ูุงุญุฏ ูุงุนุฏ ุจูุญูุฏ ุฑุจูุง ูุฃูู ูุด ุตูููุ ูุตุงุญุจู ุจูุณุฃูู ููู ูุฏู?? ูุงู ูุงูู ุฃูุช ุบุจู?? ุฃุตูู ูุจุนุฑูุด ููุง ูููุฉ ุตููู. ๐๐จ๐ณ",
        "ุบุจู ููุชุจ ูุฑุง ุงูุฏูุชูุฑ ุจุงููุญุงุถุฑุฉุ ูู ูุง ุงูุฏูุชูุฑ ูุณุญ ุงูุณุจูุฑุฉ ุดู ุงููุฑูุฉ ูุฑูุงูุง. ๐๐",
        "ูุฑุฉ ุฃุณุชุงุฐ ููููุงุก ุฎูู ููุฏ ุณูุงู ุณุงูู ุฃูุณูุฏ ุงููุฑุจูู. ๐งช๐จ",
        "ูุญุดุด ุฑุงุญ ููุงูุฏููุงูุฏุฒ ูุงููู ุนูุฏูู ุญููุงุช ุจุตู?? ูุงูููู ุขูุ ูุงููู ุชูุงู ุฃุนุทููู ุงูุญููุฉ ุงูุฃุฎูุฑุฉ. ๐๐ง",
        "ูุญุฏุฉ ูุงุดูุฉ ูู ุฌูุงุฒุฉ ุฒูุฌูุง ูุจุชุถุญู ุณุฃูููุง ุจุชุถุญูู ูููุ ูุงูุชููู ูุฃูู ุฃูู ูุฑุฉ ุฃุนุฑู ูู ุฑุงูุญ ููู. ๐คฃโฐ๏ธ",
        "ูุญุฏุฉ ุงุจููุง ุจูุน ุฌููู ูุนุฏุช ุชุนูุท ูุชูููู ุงุชุตูุช ุนูู ุฌูุฒูุง ุงูุจุฎูู ุชููู ุฃุนูู ุฅููุ ูููุง ูููููู ูุงููู ููุชุฎุตู ูู ูุตุฑููู. ๐ธ๐ญ",
        "ุชูุงุชุฉ ูุณุงุทูู ุฑูุจูุง ุทูุงุฑุฉ ููููููุจุชุฑ ุญุณูุง ุจุงูุจุฑุฏ ูุงููุง ุทููุง ุงููุฑูุญุฉ. ๐โ๏ธ",
        "ูุฑุฉ ูุงุญุฏ ูููู ูุฒูุฌุชู: ูุด ุฑุฃูู ูุฑุฌุน ุฒู ุฒูุงูุ ุงุจุชุณูุช ููุงูุช: ููู ูุง ุญูุงุชูุ ูุงู: ูุนูู ูุง ุฃุนุฑูู ููุง ุชุนุฑูููู. ๐ซโณ",
        "ูุฑุฉ ูุงุญุฏ ุจุฎูู ุฌุงุจ ุชููููู ุฌุฏูุฏ ุญุทู ูู ุฌูุจู ุงููู ูุฑุงุ ููุณู ููุนุฏ ุนูู ูุฑุณูุ ุฑุงุญ ุณุงูุน ุตูุช ุญุงุฌุฉ ุจุชุชูุณุฑุ ูุงู ูุงุฑุจ ูุจูู ุงูุนููุฏ ุงูููุฑู. ๐ฑ๐",
        "ูุฑุฉ ูุงุญุฏ ูุฃูู ูุณุชู ูุงูุช ูู ุฒูุฌุชู ุนุทูู.. ุนุทุงูุง ุญุจุฉ ูุญุฏู ูุงูุช ูู ุญุจุฉ ุจุณุ ูุงู ูููุง ููุณ ุงูุทุนู. ๐ฅ๐",
        "ุจูุทูุน ุงูุฃุณุชุงุฐ ุนูู ุงูุทูุงุจ ูุจูููู ุฃูุชู ูุตุงุจูุญ ุงููุณุชูุจูุ ุจุต ุงูุทุงูุจ ูุฒูููู ููุงู ุจุณุงุจุน ูููุฉ ููุงู ุงูุทุงูุจ: ูุง ุฃุณุชุงุฐ ุงูููุจุฉ ุงููู ุฌูุจู ุงุชุญุฑูุช. ๐ก๐ด",
        "ุบุจู ุฃููู ุจูุงุชูู ูู ุงููุงูุฐุฉุ ูุนูุฏูุง ูุฒู ูุฌุฏู ููุณูุฑุ ูุงู ุบุฑูุจุฉ ุฌุฏูุง ูุน ุฃูู ูุดุบู ูุถุน ุงูุทูุฑุงู. ๐ฑโ๏ธ",
        "ูุงุญุฏ ูุญุดุด ุญุฑุงู ุฃูู ูุนูุฏูุด ููุง ูุฑูุญุฉ ููุง ุชูููู ุฃุฎุฏ ุฏูุงุก ุฎุงูุถ ููุญุฑุงุฑุฉ. ๐ก๏ธ๐",
        "ุฃุฎุทุจูุท ูุฑุฉ ูุงุนุฏ ุฒุนูุงู ุฃูู ุนุดุงู ูุด ุนุงุฑู ุฅูุฏู ูู ุฑุฌูู. ๐๐",
        "ููู ูุฑุฉ ุฑุงุฌู ุฌุงุชูู ูุงุชูุฑุฉ ุงููููู ูกูููู ุฑูุงูุ ูุงู ุฏู ููุฒุงุฑุฉ ุงููุงููุฉ ููุงู ููู: ุฃูููู ุญุจุงูุจู ููููู ุงููุทุฑ ุญู ูุงูุณูุฉ ุนูู ุญุณุงุจูุ ๐ฆ๐ธ",
        "ููู ูุงุญุฏ ุณูู ุนูุงูู ุตูุฑ ูููุฏ ูุฃุณุฏ ูุฐูุจุ ุณุฃููู ุงููุงุณ ุนู ุงูุณุจุจุ ูุงู ููู ุนูุดุงู ููุง ุงุญุชุงุฌูู ุฃููููู ูู ูุฑุฉ ูุงุญุฏุฉ ุชุนุงููุง ูุง ุญููุงูุงุช. ๐ฆ๐ฆ๐๐บ",
        "ูุฑุฉ ูุงุญุฏ ูุณุทูู ุฑุงุญ ุงููุญููุฉุ ูุงููุงุถู ุณุฃูู: ุฃูุช ูุชุฒูุฌ ูููุ ุฑุงุญ ูุงู ูููุงุถู: ูุชุฒูุฌ ูุงุญุฏุฉ ุณุช ูุง ุณุนุงุฏุฉ ุงููุงุถูุ ุฑุงุญ ุงููุงุถู ูุงู ูู ุฃูุช ุจุชูุฒุฑ ูุง ุจูู ููุง ููู ุญุฏ ูุชุฒูุฌ ุฑุงุฌูุ!ุ ูุงู ูู ูุงููู ุฃุฎุชู ูุชุฒูุฌุฉ ุฑุงุฌู. ๐จโโ๏ธ๐",
        "ูุญุดุด ุดุงู ูุงุญุฏุฉ ูู ุงูุทุฑูู ูุณุฃููุง ุงุณูู ุฅููุ ูุงูุช ูู ุฃุณูุงุกุ ูุงู ููุง ูุนูู ูุงูููุด ุงุณู ูุญุฏุฏุ! ๐คโ",
        "ูุงุญุฏ ุบุจู ุฑุงุญ ููุฏู ูู ูุธููุฉุ ููุงู ูููุฏูุฑ ูู ุงููุฑุชุจ ูุงูุ ูุงููุฏูุฑ ูุงู ูู ูขููู ูุจุนุฏ ุณูุชูู ููุจูู ูฅูููุ ููุงู ูู ุฎูุงุต ุงุจูู ุงุฌู ุจุนุฏ ุณูุชูู. ๐งโ๐ผ๐ธ",
      ];
      const ุงููุงุช = [
        "ูุดุฑู ๐",
        "ูููุฎูุฉ ๐ฅฌ",
        "ููู ูุฏูุณ ๐ฒ",
        "ุทุนููุฉ (ููุงูู) ๐ฅ",
        "ูุญุดู ๐",
        "ูุญูุฑุฉ ๐ซ",
        "ูุชุฉ ๐ฅ",
        "ุดุงูุฑูุง ๐ฅ",
        "ุณูู ุจูุทู ูุดูู ๐",
        "ููุจูุงุช ูุตุฑูุฉ (ุญูุต - ุจุงุจุง ุบููุฌ) ๐ง",
        "ูุจุฏุฉ ุฅุณููุฏุฑุงูู ๐ฅฉ",
        "ุทุงุฌู ูุญู ๐",
        "ุญูุงู ูุญุดู ๐ฆข",
        "ุฃุฑุฒ ุจุงููุจู ๐",
        "ุจุณุจูุณุฉ ๐ฐ",
        "ุฃู ุนูู ๐ฎ",
        "ุตูููุฉ ุจุทุงุทุณ ๐",
        "ุฑุฒ ูุนูุฑ ๐",
        "ูุทูุฑ ูุดูุชุช ๐",
        "ูููุฎูุฉ ุจุงูุฌูุจุฑู ๐ค",
        "ุดูุฑุจุฉ ุนุฏุณ ๐ฅฃ",
        "ูุทุงุฆุฑ ุณุจุงูุฎ ๐ฅ",
        "ุณูุทุฉ ุทุญููุฉ ๐ฅ",
        "ููุงุฑุน ๐พ",
        " ูุณูุฎ ๐",
        "ุณูุฏูุชุดุงุช ุงูุทุนููุฉ ๐ฅ",
        "ุทุงุฌู ุจุงููุฉ ๐ฒ",
        "ููุฑููุฉ ุจุดุงููู ๐",
        "ุทุงุฌู ุงูุจุทุงุทุณ ๐ฒ",
        "ููู ูุน ุทูุงุทู ๐",
        "ุทุงุฌู ุฌูุจุฑู ๐ค",
        "ุตูููุฉ ูุฑู ุนูุจ ๐",
        "ุดุงูุฑูุง ูุญู ๐ฅ",
        "ุทุงุฌู ูุฑูู ๐",
        "ุตูููุฉ ูุญูุฉ ุจุงููููู ๐",
        "ุณุญูุจ ๐ฅ",
        "ูุชุฉ ููุญู ๐ฅฉ",
        "ุตูููุฉ ุจุทุงุทุณ ุจุงููุญู ๐",
        "ุดุงูุฑูุง ูุฑุงุฎ ๐",
        "ููุฏู ูุฑุงุฎ ๐",
        "ูุจุงุจ ุงูุญูุฉ ๐",
        "ุจุทุงุทุณ ูุญูุฑุฉ ๐",
        "ุดูุฑุจุฉ ูุณุงู ุงูุนุตููุฑ ๐ฒ",
        "ููุฑููุฉ ุจุงูุญูุฉ ๐",
        "ุญูุงู ูุญุดู ูุฑูู ๐ฆข",
        "ุญูุงู ูุญุดู ุฃุฑุฒ ๐ฆข",
        "ููุฒุฉ ูุญูุฑุฉ ๐",
        "ูุญุดู ูุฑู ุนูุจ ๐",
        "ุทุงุฌู ุจุตู ๐ฒ",
        "ุฎุจูุฒุฉ ๐",
        "ุณูุทุฉ ุฎุถุฑุงุก ๐ฅ",
        "ุทุงุฌู ุณูู ๐",
        "ุดูุฑุจุฉ ุฎุถุงุฑ ๐ฅ",
        "ุจูููุฉ ๐พ",
        "ุตูููุฉ ูุฑุงุฎ ุจุงูุจุทุงุทุณ ๐",
        "ุตูููุฉ ุจุทุงุทุณ ุจุงูุจุดุงููู ๐",
        "ุทุงุฌู ุถุฃู ๐",
        "ููุชุฉ ูุดููุฉ ๐",
        "ุฃูุฏููู ๐",
        "ูุทูุฑ ุจุงูุฌุจูุฉ ๐ง",
        "ุทุงุฌู ุจุทุงุทุณ ุจุงููุฑุงุฎ ๐",
        "ููุจูุง ๐ฒ",
      ];

      // ุงูุณุงุนุฉ ูุงู
      if (text.includes("ุงูุณุงุนุฉ")) {
        const currentDate = new Date();
        let hours = currentDate.getHours();
        const minutes = currentDate.getMinutes();
        const isAM = hours < 12;
        if (hours > 12) {
          hours -= 12;
        } else if (hours === 0) {
          hours = 12;
        }
        const time = `${hours}:${minutes < 10 ? "0" + minutes : minutes} ${
          isAM ? "ุงุตุจุญ" : "ุจููู"
        }`;
        vscode.window.showInformationMessage(`ุงูุณุงุนุฉ: ${time}`);
      }
      // ุงูุชุงุฑูุฎ ูุงูููู
      else if (text.includes("ุงูุชุงุฑูุฎ", "ุงูููุงุฑุฏู ูุงู")) {
        vscode.window.showInformationMessage(`ุงูุชุงุฑูุฎ: ${ุงูุชุงุฑูุฎ_ุงููุฌุฑู}`);
      } else if (text.includes("ููู", "ููู ุงูุงุณุจูุน", "ุงูููุงุฑุฏู")) {
        vscode.window.showInformationMessage(`ููู ุงูุฃุณุจูุน: ${ููู_ุงูุฃุณุจูุน}`);
      }
      // ููุงุนูุฏ ุงูุตูุงุฉ
      else if (text.includes("ุงููุฌุฑ")) {
        vscode.window.showInformationMessage(`ุงููุฌุฑ: ${ุงููุฌุฑ}`);
      } else if (text.includes("ุงูุธูุฑ")) {
        vscode.window.showInformationMessage(`ุงูุธูุฑ: ${ุงูุธูุฑ}`);
      } else if (text.includes("ุงูุนุตุฑ")) {
        vscode.window.showInformationMessage(`ุงูุนุตุฑ: ${ุงูุนุตุฑ}`);
      } else if (text.includes("ุงููุบุฑุจ")) {
        vscode.window.showInformationMessage(`ุงููุบุฑุจ: ${ุงููุบุฑุจ}`);
      } else if (text.includes("ุงูุนุดุงุก")) {
        vscode.window.showInformationMessage(`ุงูุนุดุงุก: ${ุงูุนุดุงุก}`);
      }
      // ููุชุฉ
      else if (text.includes("ููุช", "ุถุญู", "ุฒูู")) {
        const ููุชู = ููุช[Math.floor(Math.random() * ููุช.length)];
        vscode.window.showWarningMessage(ููุชู, "๐");
      }
      // ุทูุจ ุทุนุงู
      else if (text.includes("ุงูู", "ุทุนุงู", "ูุทุงุฑ", "ุบุฏุงุก", "ุนุดุงุก", "ุฌุนุงู")) {
        const ุงูู = ุงููุงุช[Math.floor(Math.random() * ุงููุงุช.length)];
        vscode.window.showWarningMessage(`ุชูุถู: ${ุงูู}`);
      }
      // ุฑุฏ ุนุดูุงุฆู
      else {
        const ุฑุฏูุฏ = ุชูุถู[Math.floor(Math.random() * ุชูุถู.length)];
        vscode.window.showInformationMessage(ุฑุฏูุฏ);
      }
    }
  });

  context.subscriptions.push(ูุฑุญุจุง, ุตู_ุนูู_ุงููุจู, ุงูุงุฐุงู);
}

module.exports = {
  activate,
};
